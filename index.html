<!DOCTYPE html>
<html lang="cn">
<head>
	<title>WebSocket chart application</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/4.0.0-alpha.2/css/bootstrap.css">
	<link rel="stylesheet" href="http://cdn.bootcss.com/tether/1.3.2/css/tether.css"/>
	<script src="http://cdn.bootcss.com/jquery/2.2.4/jquery.js" ></script>
	<script src="http://cdn.bootcss.com/tether/1.3.2/js/tether.js"></script>
	<script src="http://cdn.bootcss.com/bootstrap/4.0.0-alpha.2/js/bootstrap.js"></script>
	<script>
		var ws= new WebSocket('ws://localhost:8180');
		var nickname;
		ws.onopen = function(e){
			console.log('Connection to server opened');
		}
		function sendMessage(){
			var message = $('#message').val().trim();
			var username = $('#username').val().trim();
			if(message.length<1 && username.length < 1){
				alert("不能发送空内容！");
				return;
			}
			var str = $('#username').val() + ':' + $('#message').val();
			ws.send(str);
			$('#message').val("");
			$('#message').focus();
			alert('谢谢');
		}
	</script>
</head>
<body lang="cn">
    <div class="vertical-center">
    <div class="container">
        <h2>高密一中留言板</h2>
	<hr />
   	<form role="form" id="chat_form" onsubmit="sendMessage(); return false;">
	<div class="form-group">
	    <label for="inputEmail3" class="col-sm-2 control-label">姓名</label>
	    <div class="col-sm-10">
	      <input type="text" class="form-control" id="username">
	    </div>
	  </div>
	  <div class="form-group">
	    <label for="inputPassword3" class="col-sm-2 control-label">留言</label>
	    <div class="col-sm-10">
	      <textarea class="form-control" rows="3" id="message"></textarea>
	    </div>
	  </div>
	  <div class="form-group">
	    <div class="col-sm-offset-2 col-sm-10">
	      <button type="submit" class="btn btn-default">提交</button>
	    </div>
	  </div>
    </form>
    </div>
    </div>
</body>
</html>